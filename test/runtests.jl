using WSMP
using Base.Test

const ia = Int32[1,5,9,13,17,21,25,27,29,30];
const ja = Int32[1,3,7,8,2,3,8,9,3,7,8,9,4,6,7,8,5,6,8,9,6,7,8,9,7,8,8,9,9];
const avals = [14.,-1.,-1.,-3.,14.,-1.,-3.,-1.,16.,-2.,-4.,-2.,14.,-1.,-1.,
               -3.,14.,-1.,-3.,-1.,16.,-2.,-4.,-2.,16.,-4.,71.,-4.,16.];
w = Wssmp(ia,ja,avals)
x = w\ones(9)
@test_approx_eq x [0.10094824180165943,0.10094824180165943,0.11951797708415644,
                   0.10094824180165943,0.10094824180165943,0.11951797708415644,
                   0.11951797708415646,0.058079810351639664,0.11951797708415648]
V,R,M = wsversion()
@test V == 14

